# 更新日志 (Changelog)


## [1.3.0] - 2026-01-11

### 新增功能
- **字幕兼容模式**: AviSynth + VSFilter 字幕渲染
  - 解决 Windows 系统字体无法正确加载、字重无法匹配等问题
  - 便携版设计，无需安装 AviSynth，解压即用
  - 复用所有现有编码参数
- **NVENC 速度档位控制**: 新增 p1-p7 档位选择
  - 预设模式和自定义模式均可调节
  - 选择"使用预设默认"则使用预设定义的档位
- **编码参数重构**: 使用 `EncodeParams` 数据类统一管理
  - 输入验证 (文件存在、CRF 范围、分辨率格式)
  - 更清晰的代码结构

### 改进
- **默认音频编码**: 改为"复制 (不重新编码)"
- **预设配置完善**: 显式添加 `audio_encoder` 字段
- **测试覆盖增强**: 39 个单元测试用例

### 依赖更新
- 新增 pytest (测试框架)

---

## [1.2.3] - 2026-01-11

### 新增功能
- **NVIDIA 显卡加速 (HQ) 预设**: 画质优先，CQ 19 + P7 + VBR
- **Debug 模式**: 仅输出 FFmpeg 命令，不执行
- **日志增强**: FFmpeg 命令记录到日志文件

### 改进与修复
- **严格模式**: 非自定义模式强制忽略 GUI 参数设置
- **NVENC 参数修复**: 修复 cq 参数可能丢失问题
- **预设优化**: NVENC 预设添加 VBR 模式

---

## [1.2.0] - 2026-01-10

### 新增功能
- 增加图片文件头检测
- 增加版本号显示

### 改进
- 修复图片扫描 bug
- 自动更新 GUI 版本号
- 增加硬件编码检测
- 新增 logo

---

## [1.1.0] - 2026-01-10

### 新增功能
- 图片格式转换
- 批量创建文件夹
- 批量序列重命名
- 封装转换批量模式
- 通知设置 (飞书/Webhook)

### 改进
- 通知配置回显和管理
- 素材质量检测自定义规则
- 封装转换新增预设

### 依赖更新
- 新增 Pillow、chardet

---

## [1.0.0] - 2026-01-09

### 首个正式版本
- 视频压制 (H.264/H.265，字幕烧录)
- 音频替换
- 封装转换 (Remux)
- 质量检测 (QC)
- 音频抽取